<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    
    <title>Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ | ç¨‹åºå‘˜æ³¥ç“¦åŒ </title>

    <meta name="description" content="&lt;p&gt;Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚&lt;/p&gt;">
    <link rel="canonical" href="https://bysocket.com/spring-boot-configuration-properties-example/"/>
    <meta name="keywords" content="">


    

    <meta property="og:locale" content="cn" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content= "Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ | ç¨‹åºå‘˜æ³¥ç“¦åŒ "  />
    <meta property="og:description" content= "&lt;p&gt;Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚&lt;/p&gt;" />
    <meta property="og:url" content="https://bysocket.com/spring-boot-configuration-properties-example/index.html" />
    <meta property="og:site_name" content="" />
    <meta property="article:author" content="æ³¥ç“¦åŒ " />
    <meta property="article:publisher" content="" />
    <meta property="og:description" content="&lt;p&gt;Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚&lt;/p&gt;" />
    <meta name="twitter:title" content="Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ | ç¨‹åºå‘˜æ³¥ç“¦åŒ "/>
    <meta name="twitter:description" content="&lt;p&gt;Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚&lt;/p&gt;"/>
    <script type="application/ld+json">
        {
            "description": "&lt;p&gt;Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚&lt;/p&gt;",
            "author": { "@type": "Person", "name": "æ³¥ç“¦åŒ " },
            "@type": "BlogPosting",
            "url": "https://bysocket.com/spring-boot-configuration-properties-example/index.html",
            "publisher": {
            "@type": "Organization",
            "logo": {
                "@type": "ImageObject",
                "url": "https://bysocket.comhttps://image.bysocket.com/avatar.webp?dpr=0.1"
            },
            "name": "æ³¥ç“¦åŒ "
            },
            "headline": "Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ | ç¨‹åºå‘˜æ³¥ç“¦åŒ ",
            "datePublished": "2023-02-07T06:37:15.000Z",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://bysocket.com/spring-boot-configuration-properties-example/index.html"
            },
            "@context": "http://schema.org"
        }
    </script>




    

    

    

    

    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“š</text></svg>">
    

    

    

    
<link rel="stylesheet" href="/dist/build.css?v=1654266144177.css">


    
<link rel="stylesheet" href="/dist/custom.css?v=1654266144177.css">


    <script>
        window.isPost = true
        window.aomori = {
            
            
            
        }
        window.aomori_logo_typed_animated = true
        window.aomori_search_algolia = false

    </script>

    <!-- Google å¹¿å‘Š AdSense ä»£ç  -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2686883599479094" crossorigin="anonymous"></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>

    <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="header-type-avatar avatar avatar-sm">
                <img src="https://image.bysocket.com/avatar.webp?dpr=0.1" alt="æ³¥ç“¦åŒ ">
            </div>
            
            <div class="header-type-inner">
                
                    <div id="typed-strings" style="display:none">
                        <p>ç¨‹åºå‘˜æ³¥ç“¦åŒ </p>
                    </div>
                    <a class="header-type-title" id="typed" href="/"></a>
                
    
                
            </div>
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/">é¦–é¡µ</a>
                
                <a href="/archives">å­˜æ¡£</a>
                
                <a href="/about">å…³äº</a>
                
            </div>
            <div class="header-menu-social">
                
    <a class="social" target="_blank" href="https://github.com/JeffLi1993">
        <ion-icon name="logo-github"></ion-icon>
    </a>

    <a class="social" target="_blank" href="https://twitter.com/CoderJeffLee">
        <ion-icon name="logo-twitter"></ion-icon>
    </a>

            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/">é¦–é¡µ</a>
                    
                    <a href="/archives">å­˜æ¡£</a>
                    
                    <a href="/about">å…³äº</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

    <div class="container">
        <div class="main">
            <section class="inner">
                <section class="inner-main">
                    <div class="post">
    <article id="post-cldtvdihp00042l3sble9cx6t" class="article article-type-post" itemscope
    itemprop="blogPost">

    <div class="article-inner">

        
          
        
        
        

        
        <header class="article-header">
            
  
    <h1 class="article-title" itemprop="name">
      Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹
    </h1>
  

        </header>
        

        <div class="article-more-info article-more-info-post hairline">

            <div class="article-date">
  <time datetime="2023-02-07T06:37:15.000Z" itemprop="datePublished">2023-02-07</time>
</div>

            
            <div class="article-category">
                <a class="article-category-link" href="/categories/Spring-Boot/">Spring Boot</a>
            </div>
            

            
            <div class="article-tag">
                <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Config/" rel="tag">Config</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Properties/" rel="tag">Properties</a></li></ul>
            </div>
            

            

        </div>

        <div class="article-entry post-inner-html hairline" itemprop="articleBody">
            <p>Spring Boot é…ç½®ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®å’Œå¤–åŒ–é…ç½®ã€‚æœ¬ç« å…ˆå®ç°è‡ªå®šä¹‰å±æ€§å·¥ç¨‹ï¼Œå°†å±æ€§å¤–åŒ–é…ç½®åœ¨ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­è·å–è¯¥å±æ€§å€¼ã€‚æ¥ç€ä¼šè¯¦ç»†ä»‹ç»å±æ€§çš„è·å–æ–¹å¼ã€å¤–åŒ–é…ç½®å’Œè‡ªåŠ¨é…ç½®ã€‚æœ€åä¼šä»‹ç»åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Start ç»„ä»¶ã€‚</p>
<span id="more"></span>


<h2 id="2-1-å¿«é€Ÿå…¥é—¨å·¥ç¨‹"><a href="#2-1-å¿«é€Ÿå…¥é—¨å·¥ç¨‹" class="headerlink" title="2.1 å¿«é€Ÿå…¥é—¨å·¥ç¨‹"></a>2.1 å¿«é€Ÿå…¥é—¨å·¥ç¨‹</h2><p>ç¬¬ä¸€ç« çš„ <code>HelloBookController</code> æ§åˆ¶å±‚ä¸­ï¼Œåœ¨ä»£ç ä¸­ä»¥ç¡¬ç¼–ç çš„æ–¹å¼ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºä¹¦ä¿¡æ¯ã€‚ä¸‹é¢æŠŠä¹¦çš„ä¿¡æ¯ä½œä¸ºå±æ€§ï¼Œå¤–åŒ–é…ç½®åœ¨ application.properties ã€‚å¥½å¤„æ˜¯å°†åº”ç”¨å‚æ•°ã€ä¸šåŠ¡å‚æ•°æˆ–ç¬¬ä¸‰æ–¹å‚æ•°ç­‰ç»Ÿä¸€é…ç½®åœ¨åº”ç”¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé¿å…é…ç½®ä¾µå…¥ä¸šåŠ¡ä»£ç ï¼Œè¾¾åˆ°å¯é…ç½®çš„æ–¹å¼ï¼Œæ–¹ä¾¿åŠæ—¶è°ƒæ•´ä¿®æ”¹ã€‚</p>
<h3 id="2-1-1-é…ç½®å±æ€§"><a href="#2-1-1-é…ç½®å±æ€§" class="headerlink" title="2.1.1 é…ç½®å±æ€§"></a>2.1.1 é…ç½®å±æ€§</h3><p>æ–°å»ºå·¥ç¨‹å‘½åä¸º chapter-2-spring-boot-config ï¼Œåœ¨ application.properties ä¸­é…ç½®ä¹¦åå’Œä½œè€…ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code>    ## ä¹¦ä¿¡æ¯
    demo.book.name=[Spring Boot 2.x Core Action]
    demo.book.writer=BYSocket
</code></pre>
<p>.properties æ–‡ä»¶çš„æ¯è¡Œå‚æ•°è¢«å­˜å‚¨ä¸ºä¸€å¯¹å­—ç¬¦ä¸²ï¼Œå³ä¸€ä¸ªå­˜å‚¨å‚æ•°åç§°ï¼Œè¢«ç§°ä¸ºé”®ï¼›å¦ä¸€ä¸ªä¸ºå€¼ã€‚ä¸€èˆ¬ç§°ä¸ºé”®å€¼å¯¹é…ç½®ã€‚äº•å·ï¼ˆ#ï¼‰æˆ–è€…è‹±æ–‡çŠ¶æ€ä¸‹çš„å¹å·ï¼ˆ!ï¼‰ä½œä¸ºç¬¬ä¸€è¡Œä¸­ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ¥è¡¨ç¤ºè¯¥è¡Œçš„æ–‡æœ¬ä¸ºæ³¨é‡Šã€‚å¦å¤–ï¼Œåæ–œæ ï¼ˆ\ï¼‰ç”¨äºè½¬ä¹‰å­—ç¬¦ã€‚</p>
<p>Spring Boot æ”¯æŒå¹¶æ¨èä½¿ç”¨ YAML æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œå°† application.properties æ–‡ä»¶æ›¿æ¢æˆ application.yml æ–‡ä»¶ï¼Œå¹¶é…ç½®ç›¸åŒçš„å±æ€§ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code>## ä¹¦ä¿¡æ¯
demo:
    book:
        name: ã€ŠSpring Boot 2.x æ ¸å¿ƒæŠ€æœ¯å®æˆ˜ - ä¸Š åŸºç¡€ç¯‡ã€‹
        writer: æ³¥ç“¦åŒ BYSocket
</code></pre>
<p>YAML æ˜¯ä¸€ä¸ªå¯è¯»æ€§é«˜ï¼Œç”¨æ¥è¡¨è¾¾æ•°æ®åºåˆ—çš„æ ¼å¼ã€‚è¡¨ç¤ºé”®å€¼å¯¹æ ¼å¼æ—¶ï¼Œæ³¨æ„é”®å’Œå€¼ç”±å†’å·åŠç©ºç™½å­—ç¬¦åˆ†å¼€ã€‚å¼ºè°ƒä¸‹ï¼Œç©ºç™½å­—ç¬¦æ˜¯å¿…é¡»çš„ï¼ŒIDE ä¸€èˆ¬ä¹Ÿä¼šæç¤ºã€‚ä¸¤ç§é…ç½®æ–¹å¼éƒ½éå¸¸ä¾¿æ·ï¼Œåœ¨å¼€å‘ä¸­é€‰æ‹© .properties æˆ– .yml æ–‡ä»¶é…ç½®ã€‚ä½†å¦‚æœä¸¤ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œé»˜è®¤ä¼˜å…ˆä½¿ç”¨ .properties é…ç½®æ–‡ä»¶ã€‚YAML ä¸ .properties é…ç½®æ–‡ä»¶å¯¹æ¯”å¦‚å›¾ 2-1 æ‰€ç¤ºï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-2.webp?dpr=0.7"></p>
<p>å›¾ 2-1 YAML ä¸ .properties é…ç½®æ–‡ä»¶å¯¹æ¯”</p>
<p>æ³¨æ„ï¼š</p>
<p>åœ¨ application.properties é…ç½®ä¸­æ–‡å€¼ï¼Œè¯»å–æ—¶ä¼šå‡ºç°ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚å› ä¸º Java .properties æ–‡ä»¶é»˜è®¤ç¼–ç æ–¹å¼æ˜¯ iso-8859 ï¼ŒSpring Boot åº”ç”¨ä»¥ UTF-8 çš„ç¼–ç æ–¹å¼è¯»å–ï¼Œå°±å¯¼è‡´å‡ºç°ä¹±ç é—®é¢˜ã€‚</p>
<p>å®˜æ–¹ Issue ä¸­çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œå°† .properties æ–‡ä»¶ä¸­é…ç½®çš„ä¸­æ–‡å€¼è½¬ä¹‰æˆ Unicode ç¼–ç å½¢å¼ã€‚ä¾‹å¦‚ <code>demo.book.writer=æ³¥ç“¦åŒ </code> åº”è¯¥é…ç½®æˆ <code>demo.book.writer=\u6ce5\u74e6\u5320</code> ã€‚åˆ©ç”¨ IDEA properties æ’ä»¶ æˆ–åˆ©ç”¨ Java æ–‡ä»¶è½¬ç å·¥å…· native2ascii æ¥å¿«é€Ÿåœ°è¿›è¡Œè½¬ä¹‰ã€‚è¯¥å·¥å…·æœ‰åœ¨çº¿ç‰ˆå®ç°ï¼Œåœ°å€å¦‚ä¸‹ï¼š <a target="_blank" rel="noopener" href="https://javawind.net/tools/native2ascii.jsp">https://javawind.net/tools/native2ascii.jsp</a></p>
<h3 id="2-1-2-åˆ›å»ºå±æ€§ç±»"><a href="#2-1-2-åˆ›å»ºå±æ€§ç±»" class="headerlink" title="2.1.2 åˆ›å»ºå±æ€§ç±»"></a>2.1.2 åˆ›å»ºå±æ€§ç±»</h3><p>åœ¨å·¥ç¨‹ä¸­æ–°å»ºåŒ…ç›®å½• <code>demo.springboot.config</code> ï¼Œå¹¶åœ¨ç›®å½•ä¸­åˆ›å»ºåä¸º BookProperties çš„å±æ€§ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

/**
 * ä¹¦å±æ€§
 */
@Component
public class BookProperties &#123;

    /**
     * ä¹¦å
     */
    @Value(&quot;$&#123;demo.book.name&#125;&quot;)
    private String name;

    /**
     * ä½œè€…
     */
    @Value(&quot;$&#123;demo.book.writer&#125;&quot;)
    private String writer;

    // ... çœç•¥ getter / setter æ–¹æ³•
&#125;
</code></pre>
<p>åˆ©ç”¨ <code>@Component</code> æ³¨è§£å®šä¹‰äº†ä¹¦çš„å±æ€§ Beanï¼Œå¹¶é€šè¿‡ <code>@Value</code> æ³¨è§£ä¸ºè¯¥ Bean çš„æˆå‘˜å˜é‡ï¼ˆæˆ–è€…æ–¹æ³•å‚æ•°ï¼‰è‡ªåŠ¨æ³¨å…¥ application.properties æ–‡ä»¶çš„å±æ€§å€¼ã€‚<code>@Value</code> æ³¨è§£æ˜¯é€šè¿‡ â€œ${propName}â€ çš„å½¢å¼å¼•ç”¨å±æ€§ï¼ŒpropName è¡¨ç¤ºå±æ€§åç§°ã€‚</p>
<p>æ ¸å¿ƒæ³¨è§£çš„çŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li><p>@Component æ³¨è§£ï¼š <code>@Component</code> å¯¹ç±»è¿›è¡Œæ ‡æ³¨ï¼ŒèŒè´£æ˜¯æ³›æŒ‡ç»„ä»¶ Bean ï¼Œåº”ç”¨å¯åŠ¨æ—¶ä¼šè¢«å®¹å™¨åŠ è½½å¹¶åŠ å…¥å®¹å™¨ç®¡ç†ã€‚å¸¸è§çš„ <code>@Controller</code>ã€<code>@Service</code> ã€<code>@Repository</code> æ˜¯ <code>@Component</code> çš„åˆ†ç±»ç»†åŒ–ç»„ä»¶ï¼Œåˆ†åˆ«å¯¹åº”æ§åˆ¶å±‚ã€æœåŠ¡å±‚ã€æŒä¹…å±‚çš„ Beanã€‚</p>
</li>
<li><p>@Value æ³¨è§£ï¼š <code>@Value</code> å¯¹ Bean çš„å­—æ®µæˆ–è€…æ–¹æ³•å‚æ•°è¿›è¡Œæ ‡æ³¨ï¼ŒèŒè´£æ˜¯åŸºäºè¡¨è¾¾å¼ç»™å­—æ®µæˆ–æ–¹æ³•å‚æ•°è®¾ç½®é»˜è®¤å±æ€§å€¼ã€‚é€šå¸¸æ ¼å¼æ˜¯æ³¨è§£ + SpEL è¡¨è¾¾å¼ï¼Œå¦‚ <code>@Value(&quot;SpEL è¡¨è¾¾å¼&quot;)</code>ã€‚</p>
</li>
</ul>
<p>ä½¿ç”¨ <code>@Vlaue</code> æ³¨è§£æ¥å¼•ç”¨å±æ€§å€¼æ—¶ï¼Œç¡®ä¿æ‰€å¼•ç”¨çš„å±æ€§å€¼åœ¨ application.properties æ–‡ä»¶å­˜åœ¨å¹¶ä¸”ç›¸å¯¹åº”åŒ¹é…ï¼Œå¦åˆ™ä¼šé€ æˆ Bean çš„åˆ›å»ºé”™è¯¯ï¼Œå¼•å‘ <code>java.lang.IllegalArgumentException</code> éæ³•å‚æ•°å¼‚å¸¸ã€‚</p>
<h3 id="2-1-3-è·å–å±æ€§"><a href="#2-1-3-è·å–å±æ€§" class="headerlink" title="2.1.3 è·å–å±æ€§"></a>2.1.3 è·å–å±æ€§</h3><p>ä¿®æ”¹åŸæœ‰çš„ <code>HelloBookController</code> ç±»ï¼Œé€šè¿‡æ³¨å…¥çš„æ–¹å¼è·å–ä¹¦å±æ€§ Bean å¹¶è¿”å›ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import demo.springboot.config.BookProperties;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloBookController &#123;

    @Autowired
    BookProperties bookProperties;

    @GetMapping(&quot;/book/hello&quot;)
    public String sayHello() &#123;
        return &quot;Helloï¼Œ &quot; + bookProperties.getWriter() + &quot; is writing &quot;
                + bookProperties.getName() + &quot; ï¼&quot;;
    &#125;
&#125;
</code></pre>
<p>é€šè¿‡ <code>@Autowired</code> æ³¨è§£æ ‡è®°åœ¨ <code>BookProperties</code> å­—æ®µï¼Œæ§åˆ¶å±‚è‡ªåŠ¨è£…é…å±æ€§ Bean å¹¶ä½¿ç”¨ã€‚é»˜è®¤æƒ…å†µä¸‹è¦æ±‚è¢«æ³¨è§£çš„ Bean å¿…é¡»å­˜åœ¨ï¼Œéœ€è¦å…è®¸ NULL å€¼ï¼Œå¯ä»¥è®¾ç½®å…¶ required å±æ€§ä¸º falseï¼š <code>@Autowired(required = false)</code>ã€‚</p>
<h3 id="2-1-4-è¿è¡Œå·¥ç¨‹"><a href="#2-1-4-è¿è¡Œå·¥ç¨‹" class="headerlink" title="2.1.4 è¿è¡Œå·¥ç¨‹"></a>2.1.4 è¿è¡Œå·¥ç¨‹</h3><p>æ‰§è¡Œ <code>ConfigApplication</code> ç±»å¯åŠ¨ï¼Œåœ¨æ§åˆ¶å°çœ‹åˆ°æˆåŠŸè¿è¡Œçš„è¾“å‡ºåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® &#x2F;book&#x2F;hello åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°å¦‚å›¾ 2-2 æ‰€ç¤ºçš„è¿”å›ç»“æœï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-3.webp?dpr=0.7"></p>
<p>å›¾ 2-2 Hello Book é¡µé¢</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å•å…ƒæµ‹è¯•çš„æ–¹å¼éªŒè¯å±æ€§è·å–æ˜¯å¦æˆåŠŸï¼Œå•å…ƒæµ‹è¯•å…·ä½“ç›¸å…³çš„ä¼šåœ¨ç¬¬ 9 ç« èŠ‚ä»‹ç»ã€‚å•å…ƒæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import demo.springboot.config.BookProperties;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
@SpringBootTest
public class ConfigApplicationTests &#123;
    @Autowired
    BookProperties bookProperties;

    @Test
    public void testBookProperties() &#123;
        Assert.assertEquals(bookProperties.getName(),&quot;&#39;Spring Boot 2.x Core Action&#39;&quot;);
        Assert.assertEquals(bookProperties.getWriter(),&quot;BYSocket&quot;);
    &#125;
&#125;
</code></pre>
<h2 id="2-2-é…ç½®å±æ€§çš„è·å–æ–¹å¼"><a href="#2-2-é…ç½®å±æ€§çš„è·å–æ–¹å¼" class="headerlink" title="2.2 é…ç½®å±æ€§çš„è·å–æ–¹å¼"></a>2.2 é…ç½®å±æ€§çš„è·å–æ–¹å¼</h2><p>é…ç½®å±æ€§çš„å¸¸ç”¨è·å–æ–¹å¼æœ‰åŸºäº <code>@Value</code> å’Œ <code>@ConfigurationProperties</code> æ³¨è§£ä¸¤ç§æ–¹å¼ã€‚ä¸¤ç§æ–¹å¼é€‚åˆçš„åœºæ™¯ä¸åŒï¼Œä¸‹é¢å…·ä½“ä»‹ç»å…¶ä½¿ç”¨æ–¹æ³•å’Œåœºæ™¯ã€‚</p>
<h3 id="2-2-1-Value-æ³¨è§£"><a href="#2-2-1-Value-æ³¨è§£" class="headerlink" title="2.2.1 @Value æ³¨è§£"></a>2.2.1 @Value æ³¨è§£</h3><p><code>@Value</code> æ³¨è§£å¯¹ Bean çš„å˜é‡æˆ–è€…æ–¹æ³•å‚æ•°è¿›è¡Œæ ‡æ³¨ï¼ŒèŒè´£æ˜¯åŸºäºè¡¨è¾¾å¼ç»™å­—æ®µæˆ–æ–¹æ³•å‚æ•°è®¾ç½®é»˜è®¤å±æ€§å€¼ã€‚é€šå¸¸æ ¼å¼æ˜¯æ³¨è§£ + SpEL è¡¨è¾¾å¼ï¼Œå¦‚ <code>@Value(&quot;SpEL è¡¨è¾¾å¼&quot;)</code>ï¼Œå¹¶æ ‡æ³¨åœ¨å¯¹åº”çš„å­—æ®µæˆ–è€…æ–¹æ³•ä¸Šæ–¹ï¼Œä¸”å¿…é¡»å¯¹å˜é‡ä¸€ä¸€æ ‡æ³¨ã€‚è¿™ç§æ–¹å¼é€‚ç”¨äºå°è€Œä¸å¤æ‚çš„å±æ€§ç»“æ„ã€‚å±æ€§ç»“æ„å¤æ‚ï¼Œå­—æ®µå¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ–¹å¼ä¼šæ¯”è¾ƒç¹çï¼Œåº”è¯¥è€ƒè™‘ä½¿ç”¨ <code>@ConfigurationProperties</code> æ³¨è§£ã€‚</p>
<p>å¦å¤–é€šè¿‡ <code>@PropertySource</code> æ³¨è§£å¼•å…¥å¯¹åº”è·¯å¾„çš„å…¶ä»– .properties æ–‡ä»¶ã€‚å°†ä¹¦ä¿¡æ¯é‡æ–°é…ç½®åœ¨ classpath ä¸‹æ–°çš„ book.properties é…ç½®æ–‡ä»¶åï¼Œè¯»å–æ–°é…ç½®æ–‡ä»¶çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.PropertySource;
import org.springframework.stereotype.Component;

/**
 * ä¹¦å±æ€§
 */
@Component
@PropertySource(&quot;classpath:book.properties&quot;)
public class BookProperties &#123;

    /**
     * ä¹¦å
     */
    @Value(&quot;$&#123;demo.book.name&#125;&quot;)
    private String name;

    /**
     * ä½œè€…
     */
    @Value(&quot;$&#123;demo.book.writer&#125;&quot;)
    private String writer;

    // ... çœç•¥ getters / setters æ–¹æ³•
&#125;
</code></pre>
<h3 id="2-2-2-ConfigurationProperties-æ³¨è§£"><a href="#2-2-2-ConfigurationProperties-æ³¨è§£" class="headerlink" title="2.2.2 @ConfigurationProperties æ³¨è§£"></a>2.2.2 @ConfigurationProperties æ³¨è§£</h3><p>åœ¨åŒ…ç›®å½• <code>demo.springboot.config</code> ä¸­åˆ›å»ºåä¸º BookComponent çš„å±æ€§ç±»ï¼Œå¹¶ä½¿ç”¨ <code>@ConfigurationProperties</code> æ³¨è§£è·å–å±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

/**
 * ä¹¦å±æ€§
 *
 */
@Component
@ConfigurationProperties(prefix = &quot;demo.book&quot;)
public class BookComponent &#123;

    /**
     * ä¹¦å
     */
    private String name;

    /**
     * ä½œè€…
     */
    private String writer;

    // ... çœç•¥ getters / setters æ–¹æ³•
&#125;
</code></pre>
<p>ç±»ä¼¼ <code>@Value</code> æ³¨è§£æ–¹å¼ï¼Œä½¿ç”¨ <code>@ConfigurationProperties(prefix = &quot;demo.book&quot;)</code> æ³¨è§£æ ‡æ³¨åœ¨ç±»ä¸Šæ–¹å¯ä»¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœã€‚ <code>@ConfigurationProperties</code> æ³¨è§£çš„ prefix æ˜¯æŒ‡å®šå±æ€§çš„å‚æ•°åç§°ã€‚ä¼šåŒ¹é…åˆ°é…ç½®æ–‡ä»¶ä¸­ â€œ demo.book. <em>â€ ç»“æ„çš„å±æ€§ï¼Œæ˜Ÿå· â€œ</em> â€ æ˜¯æŒ‡ä¼šä¸€ä¸€å¯¹åº”åŒ¹é… <code>BookComponent</code> ç±»çš„å­—æ®µåã€‚ä¾‹å¦‚ï¼Œå­—æ®µ name è¡¨ç¤ºä¹¦åï¼Œä¼šåŒ¹é…åˆ° <code>demo.book.name</code> å±æ€§å€¼ã€‚</p>
<p><code>@Value</code> æ³¨è§£æ–¹å¼å¼ºåˆ¶å­—æ®µå¿…é¡»å¯¹åº”åœ¨é…ç½®æ–‡ä»¶ï¼Œ <code>@ConfigurationProperties</code> æ³¨è§£æ–¹å¼åˆ™ä¸æ˜¯å¿…é¡»çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å­—æ®µåº”è¯¥ä¿è¯ä¸€ä¸€å¯¹åº”åœ¨é…ç½®æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰å±æ€§å€¼å¯¹åº”çš„è¯ï¼Œè¯¥å­—æ®µé»˜è®¤ä¸ºç©ºï¼Œ <code>@ConfigurationProperties</code> æ³¨è§£æ–¹å¼ä¹Ÿä¸ä¼šå¼•å‘ä»»ä½•å¼‚å¸¸ï¼ŒSpring Boot æ¨èä½¿ç”¨ <code>@ConfigurationProperties</code> æ³¨è§£æ–¹å¼è·å–å±æ€§ã€‚</p>
<p>åŒæ ·ä½¿ç”¨å•å…ƒæµ‹è¯•éªŒè¯è·å–å±æ€§æ˜¯å¦æˆåŠŸã€‚å•å…ƒæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>@Autowired
BookComponent bookComponent;

@Test
public void testBookComponent() &#123;
    Assert.assertEquals(bookComponent.getName(),&quot;&#39;Spring Boot 2.x Core Action&#39;&quot;);
    Assert.assertEquals(bookComponent.getWriter(),&quot;BYSocket&quot;);
&#125;
</code></pre>
<h5 id="API-org-springframework-boot-context-properties-ConfigurationProperties-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-context-properties-ConfigurationProperties-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.context.properties.ConfigurationProperties æ³¨è§£å‚æ•°"></a>API org.springframework.boot.context.properties.ConfigurationProperties æ³¨è§£å‚æ•°</h5><ul>
<li>prefix å­—ç¬¦ä¸²å€¼ï¼Œç»‘å®šè¯¥åç§°å‰ç¼€çš„å±æ€§å¯¹è±¡ã€‚</li>
<li>value å­—ç¬¦ä¸²å€¼ï¼ŒåŠŸèƒ½åŒ prefix å‚æ•°ã€‚</li>
<li>ignoreInvalidFields å¸ƒå°”å€¼ï¼Œé»˜è®¤ falseã€‚ç»‘å®šå¯¹è±¡æ—¶ï¼Œå¿½ç•¥æ— æ•ˆå­—æ®µã€‚</li>
<li>ignoreUnknownFields å¸ƒå°”å€¼ï¼Œé»˜è®¤ trueã€‚ç»‘å®šå¯¹è±¡æ—¶ï¼Œå¿½ç•¥æœªçŸ¥å­—æ®µã€‚</li>
</ul>
<h3 id="2-2-3-ConfigurationProperties-æ•°æ®éªŒè¯"><a href="#2-2-3-ConfigurationProperties-æ•°æ®éªŒè¯" class="headerlink" title="2.2.3 @ConfigurationProperties æ•°æ®éªŒè¯"></a>2.2.3 @ConfigurationProperties æ•°æ®éªŒè¯</h3><p><code>@ConfigurationProperties</code> æ³¨è§£æ–¹å¼æ”¯æŒéªŒè¯åŠŸèƒ½ï¼Œå³å½“å±æ€§ç±»è¢« <code>@Validated</code> æ³¨è§£æ ‡æ³¨æ—¶ï¼ŒSpring Boot åˆå§‹åŒ–æ—¶ä¼šéªŒè¯ç±»çš„å­—æ®µã€‚åœ¨ç±»çš„å­—æ®µä¸Šæ·»åŠ  JSR-303 çº¦æŸæ³¨è§£ï¼Œè¿›è¡Œæ•°æ®éªŒè¯ã€‚ä¸‹é¢ä¸ºä¹¦å±æ€§å­—æ®µæ·»åŠ é NULL å’Œå­—ç¬¦ä¸²éç©ºçº¦æŸï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;
import org.springframework.validation.annotation.Validated;

import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.NotNull;

/**
 * ä¹¦å±æ€§
 *
 */
@Component
@ConfigurationProperties(prefix = &quot;demo.book&quot;)
@Validated
public class BookComponent &#123;

    /**
     * ä¹¦å
     */
    @NotEmpty
    private String name;

    /**
     * ä½œè€…
     */
    @NotNull
    private String writer;

    // ... çœç•¥ getters / setters æ–¹æ³•
&#125;
</code></pre>
<p>é€šè¿‡ <code>@Validated</code> æ³¨è§£å¼€å¯å¯¹ <code>BookComponent</code> ç±»å­—æ®µçš„æ•°æ®éªŒè¯ï¼Œå¦‚æœ name å­—æ®µä¸º NULL æˆ–è€…ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œä¼šå¼•å‘ <code>BindValidationException</code> ç»‘å®šæ•°æ®éªŒè¯å¼‚å¸¸ã€‚æ•°æ®éªŒè¯å¸¸ç”¨åœ¨é‚®ç®±æ ¼å¼æˆ–è€…æœ‰é•¿åº¦é™åˆ¶çš„å±æ€§å­—æ®µã€‚å¦å¤–ï¼ŒéªŒè¯åµŒå¥—å±æ€§çš„å€¼ï¼Œå¿…é¡»åœ¨åµŒå¥—å¯¹è±¡å­—æ®µä¸Šæ–¹æ ‡æ³¨ <code>@Valid</code> æ³¨è§£ï¼Œç”¨æ¥è§¦å‘å…¶éªŒè¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¹¦å±æ€§ä¸­æ–°å¢åµŒå¥—å¯¹è±¡å‡ºç‰ˆç¤¾ <code>Publishing</code>ï¼Œå°±éœ€è¦åœ¨è¯¥å¯¹è±¡ä¸Šæ–¹æ ‡æ³¨ <code>@Valid</code> æ³¨è§£ï¼Œæ¥å¼€å¯å¯¹ <code>Publishing</code> å¯¹è±¡çš„æ•°æ®éªŒè¯ã€‚ç»¼ä¸Šï¼Œä¸¤ç§å±æ€§è·å–æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œå¯¹æ¯”å¦‚å›¾ 2-3 æ‰€ç¤ºï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-4.webp?dpr=0.7"></p>
<p>å›¾ 2-3 @ConfigurationPropertiesd vs @Value</p>
<h2 id="2-3-å¤–åŒ–é…ç½®"><a href="#2-3-å¤–åŒ–é…ç½®" class="headerlink" title="2.3 å¤–åŒ–é…ç½®"></a>2.3 å¤–åŒ–é…ç½®</h2><p>Spring Boot å¯ä»¥å°†é…ç½®å¤–éƒ¨åŒ–ï¼Œå³åˆ†ç¦»å­˜å‚¨åœ¨ classpath ä¹‹å¤–ï¼Œè¿™ç§æ¨¡å¼å«åš â€œå¤–åŒ–é…ç½®â€ã€‚å¸¸ç”¨åœ¨ä¸åŒç¯å¢ƒä¸­ï¼Œå°†é…ç½®ä»ä»£ç ä¸­åˆ†ç¦»å¤–ç½®ï¼Œåªè¦ç®€å•åœ°ä¿®æ”¹ä¸‹å¤–åŒ–é…ç½®ï¼Œå¯ä»¥ä¾æ—§è¿è¡Œç›¸åŒçš„åº”ç”¨ä»£ç ã€‚å¤–åŒ–é…ç½®è¡¨ç°å½¢å¼ä¸å•å•æ˜¯ .properties å’Œ .yml å±æ€§æ–‡ä»¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œå‘½ä»¤è¡Œå‚æ•°ç­‰æ¥å®ç°ã€‚é‚£ä¹ˆï¼Œå¤šå¤„é…ç½®äº†ç›¸åŒå±æ€§æ—¶ï¼ŒSpring Boot æ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥æ§åˆ¶å¤–åŒ–é…ç½®çš„å†²çªå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¤–åŒ–é…ç½®ä¼˜å…ˆçº§ã€‚</p>
<h3 id="2-3-1-å¤–åŒ–é…ç½®ä¼˜å…ˆçº§"><a href="#2-3-1-å¤–åŒ–é…ç½®ä¼˜å…ˆçº§" class="headerlink" title="2.3.1 å¤–åŒ–é…ç½®ä¼˜å…ˆçº§"></a>2.3.1 å¤–åŒ–é…ç½®ä¼˜å…ˆçº§</h3><p>ç”¨å‘½ä»¤è¡Œé…ç½®å»è¦†ç›– .properties æ–‡ä»¶é…ç½®æ–¹æ³•å¾ˆç®€å•ã€‚æ­£å¸¸æƒ…å†µä¸‹åˆ©ç”¨ Java å‘½ä»¤è¿è¡Œå·¥ç¨‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>// chapter-2-spring-boot-config ç›®å½•ä¸‹è¿è¡Œ
java -jar target/chapter-2-spring-boot-config-1.0.jar
</code></pre>
<p>ä¸‹é¢å°†ä¹¦çš„ä½œè€…ä¿¡æ¯ BYSocket æ”¹æˆ Jeff ï¼Œ é€šè¿‡å‘½ä»¤è¡Œé…ç½®è¦†ç›–å±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>java -jar target/chapter-2-spring-boot-config-1.0.jar --demo.book.writer=Jeff
</code></pre>
<p>åœ¨å‘½ä»¤è¡Œé…ç½®ä¸­ï¼Œè®¾ç½®å±æ€§å€¼çš„æ ¼å¼æ˜¯ç”¨ä¸¤ä¸ªè¿ç»­çš„å‡å· â€œâ€“â€æ ‡å¿—å±æ€§ã€‚åœ¨æ§åˆ¶å°çœ‹åˆ°æˆåŠŸè¿è¡Œçš„è¾“å‡ºåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &#x2F;book&#x2F;hello åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°å¦‚å›¾ 2-4 æ‰€ç¤ºçš„è¿”å›ç»“æœï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-5.webp?dpr=0.7"></p>
<p>å›¾ 2-4 ä¹¦ä¿¡æ¯è¢«è¦†ç›–é¡µé¢</p>
<p>é€šè¿‡å‘½ä»¤è¡Œé…ç½®è¦†ç›–å±æ€§æä¾›äº†éå¸¸å¤§çš„ä½œç”¨ä¸ä¾¿åˆ©æ€§ï¼Œå¸¸è§äºä½¿ç”¨ shell è„šæœ¬è¿è¡Œå·¥ç¨‹æ—¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¿®æ”¹å·¥ç¨‹è¿è¡Œçš„é…ç½®ã€‚</p>
<p>ä½†æ˜¯è¿™å°±å¼•å‘äº†ä¸€ä¸ªé—®é¢˜ï¼Œå²‚ä¸è®©å·¥ç¨‹å¾ˆæœ‰ä¾µå…¥æ€§ï¼Œå¦‚æœå¼€æ”¾è¿™ä¸ªåŠŸèƒ½ï¼Œå¯¼è‡´æœªçŸ¥çš„å®‰å…¨é—®é¢˜ã€‚æ‰€ä»¥ Spring Boot æä¾›äº†å±è”½å‘½ä»¤è¡Œå±æ€§å€¼è®¾ç½®ï¼Œåœ¨åº”ç”¨å¯åŠ¨ç±»ä¸­è®¾ç½® <code>setAddCommandLineProperties</code> æ–¹æ³•ä¸º <code>false</code> ï¼Œç”¨äºå…³é—­å‘½ä»¤è¡Œé…ç½®åŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>SpringApplication.setAddCommandLineProperties(false);
</code></pre>
<p>å‘½ä»¤è¡Œé…ç½®å±æ€§çš„ä¼˜å…ˆçº§æ˜¯ç¬¬å››ã€‚å¤–åŒ–é…ç½®è·å–å±æ€§æ—¶ï¼Œä¼šæŒ‰ä¼˜å…ˆçº§ä»é«˜åˆ°ä½è·å–ã€‚å¦‚æœé«˜ä¼˜å…ˆçº§å­˜åœ¨å±æ€§ï¼Œåˆ™è¿”å›å±æ€§ï¼Œå¹¶å¿½ç•¥ä¼˜å…ˆçº§ä½çš„å±æ€§ã€‚ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š</p>
<ol>
<li>æœ¬åœ° Devtools å…¨å±€é…ç½®</li>
<li>æµ‹è¯•æ—¶ <code>@TestPropertySource</code> æ³¨è§£é…ç½®</li>
<li>æµ‹è¯•æ—¶ <code>@SpringBootTest</code> æ³¨è§£çš„ properties é…ç½®</li>
<li>å‘½ä»¤è¡Œé…ç½®</li>
<li>SPRING_APPLICATION_JSON é…ç½®</li>
<li><code>ServletConfig</code> åˆå§‹åŒ–å‚æ•°é…ç½®</li>
<li><code>ServletContext</code> åˆå§‹åŒ–å‚æ•°é…ç½®</li>
<li>Java ç¯å¢ƒçš„ JNDI å‚æ•°é…ç½®</li>
<li>Java ç³»ç»Ÿçš„å±æ€§é…ç½®</li>
<li>OS ç¯å¢ƒå˜é‡é…ç½®</li>
<li>åªèƒ½éšæœºå±æ€§çš„ <code>RandomValuePropertySource</code> é…ç½®</li>
<li>å·¥ç¨‹ jar ä¹‹å¤–çš„å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆapplication- {profile}.properties æˆ– YAMLï¼‰</li>
<li>å·¥ç¨‹ jar ä¹‹å†…çš„å¤šç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆapplication- {profile}.properties æˆ– YAMLï¼‰</li>
<li>å·¥ç¨‹ jar ä¹‹å¤–çš„åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆapplication.properties æˆ– YAMLï¼‰</li>
<li>å·¥ç¨‹ jar ä¹‹å†…çš„åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆapplication.properties æˆ– YAMLï¼‰</li>
<li><code>@Configuration</code> ç±»ä¸­çš„ @PropertySource æ³¨è§£é…ç½®</li>
<li>é»˜è®¤å±æ€§é…ç½®ï¼ˆ<code>SpringApplication.setDefaultProperties</code> æŒ‡å®šï¼‰</li>
</ol>
<h3 id="2-3-2-å±æ€§å¼•ç”¨"><a href="#2-3-2-å±æ€§å¼•ç”¨" class="headerlink" title="2.3.2 å±æ€§å¼•ç”¨"></a>2.3.2 å±æ€§å¼•ç”¨</h3><p>åœ¨ application.properties ä¸­é…ç½®å±æ€§æ—¶ï¼Œå±æ€§ä¹‹é—´å¯ä»¥ç›´æ¥é€šè¿‡ â€œ${propName}â€ çš„å½¢å¼å¼•ç”¨å…¶ä»–å±æ€§ã€‚æ¯”å¦‚æ–°å¢ä¹¦çš„æè¿° description å±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>## ä¹¦ä¿¡æ¯
demo.book.name=[Spring Boot 2.x Core Action]
demo.book.writer=BYSocket
demo.book.description=$&#123;demo.book.writer&#125;&#39;s$&#123;demo.book.name&#125;
</code></pre>
<p>demo.book.description å±æ€§å¼•ç”¨äº†å‰é¢å®šä¹‰çš„ demo.book.name å’Œ demo.book.writer å±æ€§ï¼Œå…¶å€¼ä¸º BYSocketâ€™s[Spring Boot 2.x Core Action] ã€‚ä¸€æ–¹é¢å¯ä»¥ä½¿ç›¸åŒé…ç½®å¯ä»¥å¤ç”¨ï¼Œå¦ä¸€æ–¹é¢å¢å¼ºäº†é…ç½®çš„é˜…è¯»æ€§ã€‚</p>
<h3 id="2-3-3-ä½¿ç”¨éšæœºæ•°"><a href="#2-3-3-ä½¿ç”¨éšæœºæ•°" class="headerlink" title="2.3.3 ä½¿ç”¨éšæœºæ•°"></a>2.3.3 ä½¿ç”¨éšæœºæ•°</h3><p>åœ¨ application.properties ä¸­é…ç½®å±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨éšæœºæ•°é…ç½®ï¼Œä¾‹å¦‚æ³¨å…¥æŸäº›å¯†é’¥ã€UUID æˆ–è€…æµ‹è¯•ç”¨ä¾‹ï¼Œéœ€è¦æ¯æ¬¡ä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ã€‚<code>RandomValuePropertySource</code> ç±»éšæœºæä¾›æ•´å½¢ã€é•¿æ•´å½¢æ•°ã€UUID æˆ–è€…å­—ç¬¦ä¸²ã€‚ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>my.secret=$&#123;random.value&#125;
my.number=$&#123;random.int&#125;
my.bignumber=$&#123;random.long&#125;
my.uuid=$&#123;random.uuid&#125;
my.number.less.than.ten=$&#123;random.int(10)&#125;
my.number.in.range=$&#123;random.int[1024,65536]&#125;
</code></pre>
<h3 id="2-3-4-å¤šç¯å¢ƒé…ç½®"><a href="#2-3-4-å¤šç¯å¢ƒé…ç½®" class="headerlink" title="2.3.4 å¤šç¯å¢ƒé…ç½®"></a>2.3.4 å¤šç¯å¢ƒé…ç½®</h3><p>å¤šç¯å¢ƒæ˜¯æŒ‡ä¸åŒé…ç½®çš„ç”Ÿäº§æœåŠ¡å™¨ä½¿ç”¨åŒä¸€å·¥ç¨‹ä»£ç éƒ¨ç½²ï¼Œæ¯”å¦‚ï¼šå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€é¢„å‘ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒç­‰ã€‚å„ä¸ªç¯å¢ƒçš„å·¥ç¨‹ç«¯å£ã€æ•°æ®åº“é…ç½®ã€Redis é…ç½®ã€æ—¥å¿—é…ç½®ç­‰éƒ½ä¼šä¸åŒï¼Œä¼ ç»Ÿæ¨¡å¼ä¸‹éœ€è¦ä¿®æ”¹é…ç½®ï¼Œå·¥ç¨‹é‡æ–°ç¼–è¯‘æ‰“åŒ…ï¼Œå¹¶éƒ¨ç½²åˆ°æŒ‡å®šç¯å¢ƒæœåŠ¡å™¨ã€‚ç»“æœæ˜¯å®¹æ˜“å‘ç”Ÿé…ç½®é”™è¯¯ï¼Œå¯¼è‡´å¼€å‘éƒ¨ç½²æ•ˆç‡ä½ä¸‹ã€‚Spring Boot ä½¿ç”¨å¤šç¯å¢ƒé…ç½®å»è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å¤šç¯å¢ƒé…ç½®ï¼Œç±»ä¼¼ Maven æ„å»ºé…ç½®æ–‡ä»¶çš„æ€è·¯ï¼Œå³é…ç½®å¤šä¸ªä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œå†é€šè¿‡ <code>spring.profiles.active</code> å‘½ä»¤å»æŒ‡å®šè¯»å–ç‰¹å®šé…ç½®æ–‡ä»¶çš„å±æ€§ã€‚å¤šç¯å¢ƒé…ç½®æ–‡ä»¶æ˜¯ä¸åŒäº application.properties åº”ç”¨é…ç½®æ–‡ä»¶ã€‚å¤šç¯å¢ƒé…ç½®æ–‡ä»¶çš„çº¦å®šå‘½åæ ¼å¼ä¸º application-{profile}.propertiesã€‚å¤šç¯å¢ƒé…ç½®åŠŸèƒ½é»˜è®¤ä¸ºæ¿€æ´»çŠ¶æ€ï¼Œå¦‚æœå…¶ä»–é…ç½®æœªè¢«æ¿€æ´»ï¼Œåˆ™ {profile} é»˜è®¤ä¸º defaultï¼Œä¼šåŠ è½½ application-default.properties é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œæ²¡æœ‰è¯¥æ–‡ä»¶å°±ä¼šåŠ è½½ application.properties åº”ç”¨é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¤šç¯å¢ƒé…ç½®æ–‡ä»¶çš„å±æ€§è¯»å–æ–¹å¼å’Œä» application.properties åº”ç”¨é…ç½®æ–‡ä»¶è¯»å–æ–¹å¼ä¸€è‡´ã€‚ä¸ç®¡å¤šç¯å¢ƒé…ç½®æ–‡ä»¶åœ¨å·¥ç¨‹ jar åŒ…å†…è¿˜æ˜¯åŒ…å¤–ï¼ŒæŒ‰ç…§é…ç½®ä¼˜å…ˆçº§è¦†ç›–å…¶ä»–é…ç½®æ–‡ä»¶ã€‚åœ¨å¾®æœåŠ¡å®è·µå¼€å‘ä¸­ï¼Œç»å¸¸ä¼šä½¿ç”¨ä¸€ä¸ªç±»ä¼¼ deploy å·¥ç¨‹å»ç®¡ç†é…ç½®æ–‡ä»¶å’Œæ‰“åŒ…å…¶ä»–ä¸šåŠ¡å·¥ç¨‹ã€‚</p>
<p>åœ¨ application.properties åŒçº§ç›®å½•ä¸­ï¼Œæ–°å»º application-dev.properties ä½œä¸ºå¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code>## ä¹¦ä¿¡æ¯
demo.book.name=[Spring Boot 2.x Core Action]  From Dev
demo.book.writer=BYSocket
</code></pre>
<p>æ–°å»º application-prod.properties ä½œä¸ºç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>## ä¹¦ä¿¡æ¯
demo.book.name=&lt;Spring Boot 2.x Core Action Dev&gt; From Prod
demo.book.writer=BYSocket
</code></pre>
<p>é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šè¯»å– dev ç¯å¢ƒé…ç½®æ–‡ä»¶å¹¶è¿è¡Œå·¥ç¨‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>java -jar target/chapter-2-spring-boot-config-1.0.jar --spring.profiles.active=dev
</code></pre>
<p>åœ¨å¤šä¸ªç¯å¢ƒé…ç½®ä¸­ï¼Œé€šè¿‡å‘½ä»¤ <code>--spring.profiles.active=dev</code> æŒ‡å®šè¯»å–æŸä¸ªé…ç½®æ–‡ä»¶ï¼Œå°† dev æ›´æ”¹æˆ prod ï¼Œè½»æ¾åˆ‡æ¢è¯»å–ç”Ÿäº§ç¯å¢ƒé…ç½®ã€‚ä¹Ÿå¯ä»¥åœ¨æ§åˆ¶å°çš„æ—¥å¿—ä¸­ç¡®å®šé…ç½®è¯»å–æ¥è‡ª dev ï¼š</p>
<pre><code>2017-11-09 12:10:52.978  INFO 72450 --- [           main] demo.springboot.ConfigApplication        : The following profiles are active: dev
</code></pre>
<p>æœ€åæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &#x2F;book&#x2F;hello åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°å¦‚å›¾ 2-5 æ‰€ç¤ºçš„è¿”å›ç»“æœï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-6.webp?dpr=0.7"></p>
<p>å›¾ 2-5 dev ç¯å¢ƒä¹¦ä¿¡æ¯é¡µé¢</p>
<h2 id="2-4-è‡ªåŠ¨é…ç½®"><a href="#2-4-è‡ªåŠ¨é…ç½®" class="headerlink" title="2.4 è‡ªåŠ¨é…ç½®"></a>2.4 è‡ªåŠ¨é…ç½®</h2><p>Spring Boot <code>spring-boot-autoconfigure</code> ä¾èµ–å®ç°äº†é»˜è®¤çš„é…ç½®é¡¹ï¼Œå³åº”ç”¨é»˜è®¤å€¼ã€‚è¿™ç§æ¨¡å¼å«åš â€œè‡ªåŠ¨é…ç½®â€ã€‚Spring Boot è‡ªåŠ¨é…ç½®ä¼šæ ¹æ®æ·»åŠ çš„ä¾èµ–ï¼Œè‡ªåŠ¨åŠ è½½ä¾èµ–ç›¸å…³çš„é…ç½®å±æ€§å¹¶å¯åŠ¨ä¾èµ–ã€‚ä¾‹å¦‚é»˜è®¤ç”¨çš„å†…åµŒå¼å®¹å™¨æ˜¯ Tomcat ï¼Œç«¯å£é»˜è®¤è®¾ç½®ä¸º 8080ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨é…ç½®ï¼Ÿé¡¾åæ€ä¹‰ï¼Œè‡ªåŠ¨é…ç½®çš„æ„ä¹‰æ˜¯åˆ©ç”¨è¿™ç§æ¨¡å¼ä»£æ›¿äº†é…ç½® XML ç¹çæ¨¡å¼ã€‚ä»¥å‰ä½¿ç”¨ Spring MVC ï¼Œéœ€è¦è¿›è¡Œé…ç½®ç»„ä»¶æ‰«æã€è°ƒåº¦å™¨ã€è§†å›¾è§£æå™¨ç­‰ï¼Œä½¿ç”¨ Spring Boot è‡ªåŠ¨é…ç½®åï¼Œåªéœ€è¦æ·»åŠ  MVC ç»„ä»¶å³å¯è‡ªåŠ¨é…ç½®æ‰€éœ€è¦çš„ Beanã€‚æ‰€æœ‰è‡ªåŠ¨é…ç½®çš„å®ç°éƒ½åœ¨ <code>spring-boot-autoconfigure</code> ä¾èµ–ä¸­ï¼ŒåŒ…æ‹¬ Spring MVC ã€Data å’Œå…¶å®ƒæ¡†æ¶çš„è‡ªåŠ¨é…ç½®ã€‚</p>
<h3 id="2-4-1-spring-boot-autoconfigure-ä¾èµ–"><a href="#2-4-1-spring-boot-autoconfigure-ä¾èµ–" class="headerlink" title="2.4.1 spring-boot-autoconfigure ä¾èµ–"></a>2.4.1 spring-boot-autoconfigure ä¾èµ–</h3><p><code>spring-boot-autoconfigure</code> ä¾èµ–ï¼Œæ˜¯ Spring Boot å®ç°è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒ Starter ç»„ä»¶ã€‚å…¶å®ç°æºç åŒ…ç»“æ„å¦‚å›¾ 2-6 æ‰€ç¤ºï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-7.webp?dpr=0.7"></p>
<p>å›¾ 2-6 spring-boot-autoconfigure ä¾èµ–åŒ…ç›®å½•</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå…¶ä¸­å¸¸è§æ ¸å¿ƒçš„åŒ…å¦‚ä¸‹ï¼š</p>
<pre><code>org.springframework.boot.autoconfigure
org.springframework.boot.autoconfigure.data.jpa
org.springframework.boot.autoconfigure.thymeleaf
org.springframework.boot.autoconfigure.web.servlet
org.springframework.boot.autoconfigure.web.reactive
... çœç•¥
</code></pre>
<p>åœ¨å„è‡ªåŒ…ç›®å½•ä¸‹æœ‰å¯¹åº”çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>JpaRepositoriesAutoConfiguration 
ThymeleafAutoConfiguration
WebMvcAutoConfiguration
WebFluxAutoConfiguration
... çœç•¥
</code></pre>
<p>ä¸Šé¢è‡ªåŠ¨é…ç½®ç±»ä¾æ¬¡æ˜¯ Jpa è‡ªåŠ¨é…ç½®ç±»ã€Thymeleaf è‡ªåŠ¨é…ç½®ç±»ã€Web MVC è‡ªåŠ¨é…ç½®ç±»å’Œ WebFlux è‡ªåŠ¨é…ç½®ç±»ã€‚WebFlux å“åº”å¼æ¡†æ¶ä¼šåœ¨ç¬¬ 3 ç«  è¯¦ç»†ä»‹ç»ä½¿ç”¨ã€‚</p>
<p><code>spring-boot-autoconfigure</code> èŒè´£æ˜¯é€šè¿‡ <code>@EnableAutoConfiguration</code> æ ¸å¿ƒæ³¨è§£ï¼Œæ‰«æ ClassPath ç›®å½•ä¸­è‡ªåŠ¨é…ç½®ç±»å¯¹åº”ä¾èµ–ï¼Œå¹¶æŒ‰ä¸€å®šè§„åˆ™è·å–é»˜è®¤é…ç½®å¹¶è‡ªåŠ¨åˆå§‹åŒ–æ‰€éœ€è¦çš„ Beanã€‚åœ¨ application.properties é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ä¿®æ”¹é»˜è®¤é…ç½®é¡¹ï¼Œå¸¸ç”¨é…ç½®æ¸…å•åœ°å€å¦‚ä¸‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>
<h3 id="2-4-2-EnableAutoConfiguration-æ³¨è§£"><a href="#2-4-2-EnableAutoConfiguration-æ³¨è§£" class="headerlink" title="2.4.2 @EnableAutoConfiguration æ³¨è§£"></a>2.4.2 @EnableAutoConfiguration æ³¨è§£</h3><p>è‡ªåŠ¨é…ç½®å·¥ä½œæœºåˆ¶æ˜¯é€šè¿‡ <code>@EnableAutoConfiguration</code> æ³¨è§£ä¸­ <code>@Import</code> çš„ <code>AutoConfigurationImportSelector</code> è‡ªåŠ¨é…ç½®å¯¼å…¥é€‰æ‹©å™¨ç±»å®ç°çš„ã€‚æŸ¥é˜…æºç å¯å¾—å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>AutoConfigurationImportSelector</code> é€šè¿‡ <code>SpringFactoriesLoader.loadFactoryNames()</code> æ ¸å¿ƒæ–¹æ³•è¯»å– ClassPath ç›®å½•ä¸‹é¢çš„ META-INF&#x2F;spring.factories æ–‡ä»¶ã€‚</li>
<li>spring.factories æ–‡ä»¶ä¸­é…ç½®çš„ Spring Boot è‡ªåŠ¨é…ç½®ç±»ï¼Œä¾‹å¦‚å¸¸è§çš„ <code>WebMvcAutoConfiguration</code> Web MVC è‡ªåŠ¨é…ç½®ç±»å’Œ<code>ServletWebServerFactoryAutoConfiguration</code> å®¹å™¨è‡ªåŠ¨é…ç½®ç±» ã€‚</li>
<li>spring.factories æ–‡ä»¶å’Œ application.properties æ–‡ä»¶éƒ½å±äºé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„æ ¼å¼å‡ä¸ºé”®å€¼å¯¹ã€‚é‡Œé¢é…ç½®çš„æ¯ä¸ªè‡ªåŠ¨é…ç½®ç±»éƒ½ä¼šå®šä¹‰ç›¸å…³ Bean çš„å®ä¾‹é…ç½®ï¼Œä¹Ÿä¼šå®šä¹‰ä»€ä¹ˆæ¡ä»¶ä¸‹è‡ªåŠ¨é…ç½®å’Œå“ªäº› Bean è¢«å®ä¾‹åŒ–ã€‚</li>
<li>å½“ pom.xml æ·»åŠ æŸ Starter ä¾èµ–ç»„ä»¶çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨è§¦å‘è¯¥ä¾èµ–çš„é»˜è®¤é…ç½®ã€‚</li>
</ul>
<p>ä¾‹å¦‚æ·»åŠ  <code>spring-boot-starter-web</code> ä¾èµ–åï¼Œå¯åŠ¨åº”ç”¨ä¼šè§¦å‘å®¹å™¨è‡ªåŠ¨é…ç½®ç±»ã€‚å®¹å™¨è‡ªåŠ¨é…ç½®ç±» <code>ServletWebServerFactoryAutoConfiguration</code> çš„éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>package org.springframework.boot.autoconfigure.web.servlet;

@Configuration
@ConditionalOnClass(&#123;ServletRequest.class&#125;)
@ConditionalOnWebApplication(
    type = Type.SERVLET
)
@EnableConfigurationProperties(&#123;ServerProperties.class&#125;)
@Import(&#123;ServletWebServerFactoryAutoConfiguration.BeanPostProcessorsRegistrar.class&#125;)
public class ServletWebServerFactoryAutoConfiguration &#123;
... çœç•¥
&#125;
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>@ConditionalOnClass</code> æ³¨è§£è¡¨ç¤ºå¯¹åº”çš„ <code>ServletRequest</code> ç±»åœ¨ ClassPath ç›®å½•ä¸‹é¢å­˜åœ¨ï¼Œå¹¶ä¸” <code>@ConditionalOnWebApplication</code> æ³¨è§£è¡¨ç¤ºè¯¥åº”ç”¨æ˜¯ Servlet Web åº”ç”¨æ—¶ï¼Œæ‰ä¼šå»å¯åŠ¨å®¹å™¨è‡ªåŠ¨é…ç½®ï¼Œå¹¶é€šè¿‡ ServerProperties ç±»é»˜è®¤è®¾ç½®äº†ç«¯å£ä¸º 8080ã€‚Type.SERVLET æšä¸¾ä»£è¡¨ Servlet Web åº”ç”¨ï¼ŒType.REACTIVE æšä¸¾ä»£è¡¨å“åº”å¼ WebFlux åº”ç”¨ã€‚</p>
<p>è‡ªåŠ¨é…ç½®ï¼Œæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚ç”¨å¥½äº†å°±åƒå¤©ä¸‹æ­¦åŠŸå”¯å¿«ä¸ç ´ä¸€æ ·ã€‚ä½†è¦æ³¨æ„ä¸€äº›è‡ªåŠ¨åŒ–é…ç½®é€ æˆçš„é—®é¢˜ã€‚å¸¸è§çš„é—®é¢˜æœ‰ï¼š</p>
<ul>
<li>Spring Boot å·¥ç¨‹æ·»åŠ æŸäº› Starter ç»„ä»¶ä¾èµ–ï¼Œåˆä¸éœ€è¦è§¦å‘ç»„ä»¶è‡ªåŠ¨é…ç½®</li>
<li>Spring Boot é…ç½®å¤šä¸ªä¸åŒæ•°æ®æºé…ç½®æ—¶ï¼Œä½¿ç”¨ XML é…ç½®å¤šæ•°æ®æºï¼Œä½†å…¶é»˜è®¤æ•°æ®æºé…ç½®ä¼šè§¦å‘è‡ªåŠ¨é…ç½®å‡ºç°é—®é¢˜ã€‚</li>
</ul>
<p>ç±»ä¼¼åœºæ™¯ä¸‹ï¼Œè§£å†³æ–¹å¼æ˜¯é€šè¿‡ exclude å±æ€§æŒ‡å®šå¹¶æ’é™¤è‡ªåŠ¨é…ç½®ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class&#125;)
</code></pre>
<p>ä¹Ÿç­‰ä»·äºé…ç½® <code>@EnableAutoConfiguration</code> æ³¨è§£ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>@SpringBootApplication
@EnableAutoConfiguration(exclude = &#123;DataSourceAutoConfiguration.class&#125;)
</code></pre>
<p>è‡ªåŠ¨é…ç½®ä¼šæœ€å¤§çš„æ™ºèƒ½åŒ–ï¼Œåªæœ‰é…ç½®äº† exclude å±æ€§æ—¶ï¼ŒSpring Boot ä¼˜å…ˆåˆå§‹åŒ–ç”¨æˆ·å®šä¹‰çš„ Bean ï¼Œç„¶åå†è¿›è¡Œè‡ªåŠ¨é…ç½®ã€‚</p>
<h3 id="2-4-3-åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰-Starter-ç»„ä»¶"><a href="#2-4-3-åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰-Starter-ç»„ä»¶" class="headerlink" title="2.4.3 åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Starter ç»„ä»¶"></a>2.4.3 åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Starter ç»„ä»¶</h3><p>å½“å…¬å¸éœ€è¦å…±äº«æˆ–è€…å¼€æº Spring Boot Starter ç»„ä»¶ä¾èµ–åŒ…ï¼Œå°±å¯ä»¥åˆ©ç”¨è‡ªåŠ¨é…ç½®è‡ªå®šä¹‰ Starter ç»„ä»¶ã€‚ä¸€ä¸ªå®Œæ•´çš„ Starter ç»„ä»¶åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>æä¾›è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„è‡ªåŠ¨é…ç½®æ¨¡å—ã€‚</li>
<li>æä¾›ä¾èµ–å…³ç³»ç®¡ç†åŠŸèƒ½çš„ç»„ä»¶æ¨¡å—ï¼Œå³å°è£…äº†ç»„ä»¶æ‰€æœ‰åŠŸèƒ½ï¼Œå¼€ç®±å³ç”¨ã€‚</li>
</ul>
<p>å®ç°è‡ªå®šä¹‰ Starter ç»„ä»¶ï¼Œå¹¶ä¸ä¼šå°†è¿™ä¸¤ç‚¹ä¸¥æ ¼åŒºåˆ†ï¼Œå¯ä»¥å°†è‡ªåŠ¨é…ç½®åŠŸèƒ½å’Œä¾èµ–ç®¡ç†ç»“åˆåœ¨ä¸€èµ·å®ç°ã€‚ä¸‹é¢åˆ©ç”¨è‡ªåŠ¨é…ç½®å®ç°è‡ªå®šä¹‰ Starter ç»„ä»¶ï¼šspring-boot-starter-swagger ç»„ä»¶æ˜¯ç”¨æ¥å¿«é€Ÿç”Ÿæˆ API æ–‡æ¡£ï¼Œç®€åŒ–åŸç”Ÿä½¿ç”¨ Swagger2 ã€‚</p>
<p>spring-boot-starter-swagger ç»„ä»¶ä¸º Spring For All ç¤¾åŒºï¼ˆspring4all.comï¼‰å¼€æºé¡¹ç›®ï¼Œæºä»£ç åœ°å€æ˜¯ <a target="_blank" rel="noopener" href="https://github.com/SpringForAll/spring-boot-starter-swagger">https://github.com/SpringForAll/spring-boot-starter-swagger</a>ã€‚</p>
<h5 id="ä»€ä¹ˆæ˜¯-Swagger2"><a href="#ä»€ä¹ˆæ˜¯-Swagger2" class="headerlink" title="ä»€ä¹ˆæ˜¯ Swagger2"></a>ä»€ä¹ˆæ˜¯ Swagger2</h5><p>Swagger2 æ˜¯ API æœ€å¤§çš„å¼€å‘æ¡†æ¶ï¼ŒåŸºäº OpenAPI è§„èŒƒï¼ˆOASï¼‰ï¼Œç®¡ç†äº† API æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå³ä» API è®¾è®¡åˆ°æ–‡æ¡£ï¼Œä»æµ‹è¯•åˆ°éƒ¨ç½²ã€‚å…·ä½“æ›´å¤šäº†è§£è§å…¶å®˜ç½‘ï¼Œ<a target="_blank" rel="noopener" href="https://swagger.io/">https://swagger.io</a>ã€‚</p>
<h5 id="spring-boot-starter-swagger-ç»„ä»¶ä¾èµ–"><a href="#spring-boot-starter-swagger-ç»„ä»¶ä¾èµ–" class="headerlink" title="spring-boot-starter-swagger ç»„ä»¶ä¾èµ–"></a>spring-boot-starter-swagger ç»„ä»¶ä¾èµ–</h5><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ Spring Boot å·¥ç¨‹ï¼Œå‘½åä¸º spring-boot-starter-swaggerã€‚åœ¨ pom.xml é…ç½®ç›¸å…³</p>
<pre><code>    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
            &lt;version&gt;$&#123;version.swagger&#125;&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
            &lt;version&gt;$&#123;version.swagger&#125;&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;
            &lt;version&gt;$&#123;version.swagger&#125;&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;1.16.12&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
<p>é…ç½®ä¸­æ·»åŠ äº† <code>spring-boot-starter</code> ç»„ä»¶ä¾èµ–ç”¨äºè‡ªåŠ¨é…ç½®ç‰¹æ€§ï¼Œ<code>springfox-swagger2</code> ä¾èµ–æ˜¯ Swagger2 æ¡†æ¶ã€‚</p>
<h4 id="Swagger2-å±æ€§é…ç½®ç±»-SwaggerProperties"><a href="#Swagger2-å±æ€§é…ç½®ç±»-SwaggerProperties" class="headerlink" title="Swagger2 å±æ€§é…ç½®ç±» SwaggerProperties"></a>Swagger2 å±æ€§é…ç½®ç±» SwaggerProperties</h4><p>æ–°å»ºåä¸º <code>SwaggerProperties</code> Swagger2 å±æ€§é…ç½®ç±»ï¼ŒåŒ…å«äº†æ‰€æœ‰é»˜è®¤å±æ€§å€¼ã€‚ä½¿ç”¨è¯¥ç»„ä»¶æ—¶ï¼Œå¯ä»¥åœ¨ application.properties é…ç½®æ–‡ä»¶é…ç½®å¯¹åº”å±æ€§é¡¹ï¼Œè¿›è¡Œè¦†ç›–é»˜è®¤é…ç½®ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.boot.context.properties.ConfigurationProperties;
import springfox.documentation.schema.ModelRef;

import java.util.ArrayList;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;

@Data
@ConfigurationProperties(&quot;swagger&quot;)
public class SwaggerProperties &#123;

    /**æ˜¯å¦å¼€å¯swagger**/
    private Boolean enabled;

    /**æ ‡é¢˜**/
    private String title = &quot;&quot;;
    /**æè¿°**/
    private String description = &quot;&quot;;
    /**ç‰ˆæœ¬**/
    private String version = &quot;&quot;;
    /**è®¸å¯è¯**/
    private String license = &quot;&quot;;
    /**è®¸å¯è¯URL**/
    private String licenseUrl = &quot;&quot;;
    /**æœåŠ¡æ¡æ¬¾URL**/
    private String termsOfServiceUrl = &quot;&quot;;

    private Contact contact = new Contact();

    /**swaggerä¼šè§£æçš„åŒ…è·¯å¾„**/
    private String basePackage = &quot;&quot;;

    /**swaggerä¼šè§£æçš„urlè§„åˆ™**/
    private List&lt;String&gt; basePath = new ArrayList&lt;&gt;();
    /**åœ¨basePathåŸºç¡€ä¸Šéœ€è¦æ’é™¤çš„urlè§„åˆ™**/
    private List&lt;String&gt; excludePath = new ArrayList&lt;&gt;();

    /**åˆ†ç»„æ–‡æ¡£**/
    private Map&lt;String, DocketInfo&gt; docket = new LinkedHashMap&lt;&gt;();

    /**hostä¿¡æ¯**/
    private String host = &quot;&quot;;

    /**å…¨å±€å‚æ•°é…ç½®**/
    private List&lt;GlobalOperationParameter&gt; globalOperationParameters;

     ... çœç•¥ï¼Œå…·ä½“ä»£ç è§ GitHub
&#125;
</code></pre>
<p>ç”¨ <code>@ConfigurationProperties(prefix = &quot;swagger&quot;)</code> æ ‡æ³¨åœ¨ç±»ä¸Šæ–¹æ˜¯æŒ‡å®šå±æ€§çš„å‚æ•°åç§°ä¸º swaggerã€‚ä¼šå¯¹åº”åŒ¹é…åˆ°é…ç½®æ–‡ä»¶ä¸­ â€œ swagger.* â€ ç»“æ„çš„å±æ€§ï¼Œä¾‹å¦‚ï¼Œå­—æ®µæ ‡é¢˜ title è¡¨ç¤ºæ ‡é¢˜ï¼Œä¼šåŒ¹é…åˆ° <code>swagger.title</code> å±æ€§å€¼ã€‚</p>
<h4 id="Swagger2-è‡ªåŠ¨é…ç½®ç±»-SwaggerAutoConfiguration"><a href="#Swagger2-è‡ªåŠ¨é…ç½®ç±»-SwaggerAutoConfiguration" class="headerlink" title="Swagger2 è‡ªåŠ¨é…ç½®ç±» SwaggerAutoConfiguration"></a>Swagger2 è‡ªåŠ¨é…ç½®ç±» SwaggerAutoConfiguration</h4><p>æ–°å»ºåä¸º <code>SwaggerAutoConfiguration</code> Swagger2 è‡ªåŠ¨é…ç½®ç±»ï¼Œæä¾› Swagger2 ä¾èµ–å…³ç³»ç®¡ç†åŠŸèƒ½å’Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Import;
import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;

@Configuration
@ConditionalOnProperty(name = &quot;swagger.enabled&quot;, matchIfMissing = true)
@Import(&#123;
        Swagger2DocumentationConfiguration.class,
        BeanValidatorPluginsConfiguration.class
&#125;)
public class SwaggerAutoConfiguration implements BeanFactoryAware &#123;

    private BeanFactory beanFactory;

    @Bean
    @ConditionalOnMissingBean
    public SwaggerProperties swaggerProperties() &#123;
        return new SwaggerProperties();
    &#125;

    @Bean
    @ConditionalOnMissingBean
    @ConditionalOnProperty(name = &quot;swagger.enabled&quot;, matchIfMissing = true)
    public List&lt;Docket&gt; createRestApi(SwaggerProperties swaggerProperties) &#123;
        ... çœç•¥ï¼Œå…·ä½“ä»£ç è§ GitHub
    &#125;

    @Override
    public void setBeanFactory(BeanFactory beanFactory) throws BeansException &#123;
        this.beanFactory = beanFactory;
    &#125;
&#125;
</code></pre>
<p>ä¸Šé¢ä»£ç å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><code>@Configuration</code> æ³¨è§£æ ‡æ³¨åœ¨ç±»ä¸Šæ–¹ï¼Œè¡¨æ˜è¯¥ç±»ä¸ºé…ç½®ç±»ã€‚</li>
<li><code>@Import</code> æ³¨è§£å¼•å…¥ Swagger2 æä¾›çš„é…ç½®ç±» <code>Swagger2DocumentationConfiguration</code> å’Œ Bean æ•°æ®éªŒè¯æ’ä»¶é…ç½®ç±» <code>BeanValidatorPluginsConfiguration</code>ã€‚</li>
<li><code>@ConditionalOnMissingBean</code> æ³¨è§£æ ‡æ³¨äº†ä¸¤å¤„æ–¹æ³•ï¼Œå½“ Bean æ²¡æœ‰è¢«åˆ›å»ºæ—¶ä¼šæ‰§è¡Œè¢«æ ‡æ³¨çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ç¬¬ä¸€å¤„è¢«æ ‡è®°æ–¹æ³•æ˜¯ <code>swaggerProperties()</code> ï¼Œç”¨æ¥å®ä¾‹åŒ–å±æ€§é…ç½®ç±» <code>SwaggerProperties</code>;ç¬¬äºŒå¤„è¢«æ ‡è®°æ–¹æ³•æ˜¯ <code>createRestApi()</code>ï¼Œ ç”¨æ¥å®ä¾‹åŒ– Swagger2 API æ˜ å°„çš„ Docket åˆ—è¡¨å¯¹è±¡ã€‚</li>
<li><code>@ConditionalOnProperty</code> æ³¨è§£æ ‡æ³¨åœ¨ <code>createRestApi()</code> æ–¹æ³•ï¼Œname å±æ€§ä¼šå»æ£€æŸ¥ç¯å¢ƒé…ç½®é¡¹ <code>swagger.enabled</code> ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå±æ€§å­˜åœ¨ä¸”ä¸æ˜¯ <code>false</code> çš„æƒ…å†µä¸‹ï¼Œä¼šè§¦å‘è¯¥åˆå§‹åŒ–æ–¹æ³•ã€‚matchIfMissing å±æ€§é»˜è®¤å€¼ä¸º <code>false</code> ï¼Œè¿™é‡Œè®¾ç½®ä¸º <code>true</code>ï¼Œè¡¨ç¤ºå¦‚æœç¯å¢ƒé…ç½®é¡¹æ²¡è¢«è®¾ç½®ï¼Œä¹Ÿä¼šè§¦å‘ã€‚</li>
</ol>
<h5 id="Swagger2-å¯åŠ¨æ³¨è§£ç±»-EnableSwagger2Doc"><a href="#Swagger2-å¯åŠ¨æ³¨è§£ç±»-EnableSwagger2Doc" class="headerlink" title="Swagger2 å¯åŠ¨æ³¨è§£ç±» EnableSwagger2Doc"></a>Swagger2 å¯åŠ¨æ³¨è§£ç±» EnableSwagger2Doc</h5><p>æ–°å»ºåä¸º <code>EnableSwagger2Doc</code> Swagger2 å¯åŠ¨æ³¨è§£ç±»ï¼Œç”¨äºå¼€å…³ spring-boot-starter-swagger ç»„ä»¶ä¾èµ–ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>@Target(&#123;ElementType.TYPE&#125;)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@Import(&#123;SwaggerAutoConfiguration.class&#125;)
public @interface EnableSwagger2Doc &#123;

&#125;
</code></pre>
<p>ä¸Šé¢ä»£ç  <code>@Import</code> æ³¨è§£å¼•å…¥ Swagger2 è‡ªåŠ¨é…ç½®ç±» <code>SwaggerAutoConfiguration</code>ã€‚å½“å°†è¯¥æ³¨è§£é…ç½®åœ¨åº”ç”¨å¯åŠ¨ç±»ä¸Šæ–¹ï¼Œå³å¯å¼€å¯ Swagger2 è‡ªåŠ¨é…ç½®åŠå…¶åŠŸèƒ½ã€‚</p>
<h5 id="ä½¿ç”¨-spring-boot-starter-swagger-ç»„ä»¶ä¾èµ–"><a href="#ä½¿ç”¨-spring-boot-starter-swagger-ç»„ä»¶ä¾èµ–" class="headerlink" title="ä½¿ç”¨ spring-boot-starter-swagger ç»„ä»¶ä¾èµ–"></a>ä½¿ç”¨ spring-boot-starter-swagger ç»„ä»¶ä¾èµ–</h5><p>ä¸Šé¢ç®€å•ä»‹ç»äº†spring-boot-starter-swagger ç»„ä»¶çš„æ ¸å¿ƒä»£ç å®ç°ï¼ŒåŒæ ·ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç®€å•ã€‚åœ¨ chapter-2-spring-boot-config å·¥ç¨‹çš„ Maven é…ç½®ä¸­æ·»åŠ å¯¹åº”çš„ä¾èµ–é…ç½®ï¼Œç›®å‰æ”¯æŒ 1.5.0.RELEASE ä»¥ä¸Šç‰ˆæœ¬ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code>&lt;!-- è‡ªå®šä¹‰ swagger2 Starter ç»„ä»¶ä¾èµ– --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.spring4all&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-swagger&lt;/artifactId&gt;
    &lt;version&gt;2.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>å¦å¤–ï¼Œéœ€è¦åœ¨ ConfigApplication åº”ç”¨å¯åŠ¨ç±»ä¸Šæ–¹é…ç½®å¯åŠ¨æ³¨è§£ç±» <code>EnableSwagger2Doc</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>import com.spring4all.swagger.EnableSwagger2Doc;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@EnableSwagger2Doc // å¼€å¯ Swagger
@SpringBootApplication
public class ConfigApplication &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(ConfigApplication.class, args);
    &#125;
&#125;
</code></pre>
<p>æ‰§è¡Œ <code>ConfigApplication</code> ç±»å¯åŠ¨ï¼Œåœ¨æ§åˆ¶å°çœ‹åˆ°æˆåŠŸè¿è¡Œçš„è¾“å‡ºåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® localhost:8080&#x2F;swagger-ui.html åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆçš„ Swagger API æ–‡æ¡£ï¼Œå¦‚å›¾ 2-7 æ‰€ç¤ºï¼š</p>
<p><img src="https://image.bysocket.com/2023/02/1-8.webp?dpr=0.7"></p>
<p>å›¾ 2-7 Swagger API æ–‡æ¡£</p>
<h5 id="API-org-springframework-boot-autoconfigure-EnableAutoConfiguration-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-autoconfigure-EnableAutoConfiguration-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.autoconfigure.EnableAutoConfiguration æ³¨è§£å‚æ•°"></a>API org.springframework.boot.autoconfigure.EnableAutoConfiguration æ³¨è§£å‚æ•°</h5><ul>
<li>excludeï¼š Class æ•°ç»„ï¼Œæ’é™¤ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ç±»ã€‚</li>
<li>excludeNameï¼š å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ’é™¤ç‰¹å®šåç§°çš„è‡ªåŠ¨é…ç½®ç±»ã€‚</li>
</ul>
<h5 id="API-org-springframework-boot-autoconfigure-ConditionalOnProperty-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-autoconfigure-ConditionalOnProperty-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.autoconfigure.ConditionalOnProperty æ³¨è§£å‚æ•°"></a>API org.springframework.boot.autoconfigure.ConditionalOnProperty æ³¨è§£å‚æ•°</h5><ul>
<li>havingValueï¼š å­—ç¬¦ä¸²ï¼Œå±æ€§æœŸæœ›å€¼æ˜¯å¦åŒ¹é…ã€‚</li>
<li>matchIfMissingï¼š å¸ƒå°”å€¼ï¼Œå¦‚æœè¯¥å±æ€§å€¼æœªè®¾ç½®ï¼Œåˆ™åŒ¹é…ã€‚</li>
<li>nameï¼š å­—ç¬¦ä¸²æ•°ç»„ï¼Œè¦æµ‹è¯•çš„å±æ€§åã€‚</li>
<li>prefixï¼š å­—ç¬¦ä¸²ï¼Œå±æ€§å‰ç¼€åã€‚</li>
<li>valueï¼š å­—ç¬¦ä¸²ï¼ŒåŠŸèƒ½åŒ nameã€‚</li>
</ul>
<h5 id="API-org-springframework-boot-autoconfigure-ConditionalOnClass-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-autoconfigure-ConditionalOnClass-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.autoconfigure.ConditionalOnClass æ³¨è§£å‚æ•°"></a>API org.springframework.boot.autoconfigure.ConditionalOnClass æ³¨è§£å‚æ•°</h5><ul>
<li>nameï¼š å­—ç¬¦ä¸²æ•°ç»„ï¼Œç±»åå¿…é¡»å­˜åœ¨ã€‚</li>
<li>valueï¼š Class æ•°ç»„ï¼Œç±»å¿…é¡»å­˜åœ¨ã€‚</li>
</ul>
<h5 id="API-org-springframework-boot-autoconfigure-ConditionalOnMissingBean-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-autoconfigure-ConditionalOnMissingBean-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.autoconfigure.ConditionalOnMissingBean æ³¨è§£å‚æ•°"></a>API org.springframework.boot.autoconfigure.ConditionalOnMissingBean æ³¨è§£å‚æ•°</h5><ul>
<li>annotationï¼š æ³¨è§£ Class æ•°ç»„ï¼ŒåŒ¹é…æ³¨è§£è£…é¥°çš„ Beanã€‚</li>
<li>ignoredï¼š Class æ•°ç»„ï¼ŒåŒ¹é…æ—¶ï¼Œå¿½ç•¥è¯¥ç±»å‹çš„ Beanã€‚</li>
<li>ignoredTypeï¼š å­—ç¬¦ä¸²æ•°ç»„ï¼ŒåŒ¹é…æ—¶ï¼Œå¿½ç•¥è¯¥ç±»å‹åç§°çš„ Beanã€‚</li>
<li>nameï¼š å­—ç¬¦ä¸²æ•°ç»„ï¼ŒåŒ¹é…è¦æ£€æŸ¥çš„ Bean åç§°ã€‚</li>
<li>searchï¼š SearchStrategy å¯¹è±¡ï¼Œé€šè¿‡ SearchStrategy æ¥å†³å®šç¨‹åºçš„ä¸Šä¸‹æ–‡ç­–ç•¥ã€‚</li>
<li>typeï¼š å­—ç¬¦ä¸²å²èƒ¡æ—ï¼ŒåŒ¹é…è¦æ£€æŸ¥çš„ Bean ç±»å‹åç§°ã€‚</li>
<li>valueï¼š Class æ•°ç»„ï¼ŒåŒ¹é…è¦æ£€æŸ¥çš„ Bean ç±»å‹ã€‚</li>
</ul>
<h5 id="API-org-springframework-boot-autoconfigure-ConditionalOnWebApplication-æ³¨è§£å‚æ•°"><a href="#API-org-springframework-boot-autoconfigure-ConditionalOnWebApplication-æ³¨è§£å‚æ•°" class="headerlink" title="API org.springframework.boot.autoconfigure.ConditionalOnWebApplication æ³¨è§£å‚æ•°"></a>API org.springframework.boot.autoconfigure.ConditionalOnWebApplication æ³¨è§£å‚æ•°</h5><ul>
<li>typeï¼š ConditionalOnWebApplication.Type å¯¹è±¡ï¼ŒåŒ¹é…å¯¹åº”çš„ Web åº”ç”¨ç¨‹åºç±»å‹ã€‚</li>
</ul>
<h2 id="2-5-æœ¬ç« å°ç»“"><a href="#2-5-æœ¬ç« å°ç»“" class="headerlink" title="2.5 æœ¬ç« å°ç»“"></a>2.5 æœ¬ç« å°ç»“</h2><p><img src="https://image.bysocket.com/2023/02/0-1.webp?dpr=0.7"></p>
<p>æœ¬ç« ä»è‡ªå®šä¹‰å±æ€§å¿«é€Ÿå…¥é—¨å·¥ç¨‹å‡ºå‘ï¼Œä»‹ç»äº†ä¸¤ç§é…ç½®æ–‡ä»¶ä»¥åŠå±æ€§çš„è·å–æ–¹å¼ï¼Œç„¶åè®²è§£äº†å¤–åŒ–é…ç½®çš„ä¼˜å…ˆçº§ã€å±æ€§å¼•ç”¨ã€éšæœºå¼ä½¿ç”¨å’Œå¤šç¯å¢ƒé…ç½®ï¼Œæœ€åè®²è§£äº†è‡ªåŠ¨é…ç½®çš„åŸç†ã€æ ¸å¿ƒæ³¨è§£ä»¥åŠåˆ©ç”¨è‡ªåŠ¨é…ç½®å®ç°äº†è‡ªå®šä¹‰ Starter ç»„ä»¶ã€‚ä¸‹ä¸€ç« ä»‹ç» Spring Boot Web å¼€å‘ç›¸å…³ã€‚</p>
<p>æœ¬ç« å†…å®¹</p>
<ol>
<li>è‡ªå®šä¹‰å±æ€§å¿«é€Ÿå…¥é—¨</li>
<li>å¤–åŒ–é…ç½®</li>
<li>è‡ªåŠ¨é…ç½®</li>
<li>è‡ªå®šä¹‰åˆ›å»º Starter ç»„ä»¶</li>
</ol>
<p>æœ¬ç« ç¤ºä¾‹ä»£ç åœ°å€ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/JeffLi1993/springboot-core-action-book-demo">https://github.com/JeffLi1993/springboot-core-action-book-demo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/JeffLi1993/springboot-learning-example">https://github.com/JeffLi1993/springboot-learning-example</a></li>
</ul>

        </div>

    </div>

    <div class="article-copyright">

        <div style="float: left;width: 20%;align:center;text-align: center;">
             <img style="width: 100px; height: 100px;" src="https://image.bysocket.com/2023/02/qrcode.webp" alt="QRCode" >
        </div>
        <div style="float: left;width: 80%;">
                <br/>
                æœ¬æ–‡ç”± <a target="_blank" rel="noopener" href="https://www.bysocket.com/">æ³¥ç“¦åŒ </a> åˆ›ä½œ<br/><br/>
                åŸåˆ›ä¸æ˜“ï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œæ„Ÿè°¢æ”¯æŒï¼å¦‚æœæœ¬æ–‡å¯¹æ‚¨æœ‰ç”¨ï¼Œæ¬¢è¿è½¬å‘åˆ†äº«ï¼
        </div>

      </div><br/><br/><br/><br/><br/>

    

    

    

    
  <div class="article-copyright hairline">
    <p>
      æœ¬ä½œå“é‡‡ç”¨  <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®® (CC BY-NC-ND 4.0)</a> è¿›è¡Œè®¸å¯ã€‚
    </p>
  </div>
  

    

    
<nav class="article-nav">
  
    <a href="/spring-boot-freemarker/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸‹ä¸€ç¯‡</div>
      <div class="article-nav-title">
        
          Spring Boot æ•´åˆ FreeMarker Web æ¡ˆä¾‹æ•™ç¨‹
        
      </div>
    </a>
  
  
    <a href="/spring-boot-quickstart-example/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-caption">ä¸Šä¸€ç¯‡</div>
      <div class="article-nav-title">Spring Boot å¿«é€Ÿå…¥é—¨æ¡ˆä¾‹æ•™ç¨‹</div>
    </a>
  
</nav>


    <section class="share">
        <div class="share-title">åˆ†äº«</div>
        <a class="share-item" target="_blank"
            href="https://twitter.com/share?text=Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ - ç¨‹åºå‘˜æ³¥ç“¦åŒ &url=https%3A%2F%2Fbysocket.com%2Fspring-boot-configuration-properties-example%2F">
            <ion-icon name="logo-twitter"></ion-icon>
        </a>
        <a class="share-item" target="_blank"
            href="https://www.facebook.com/sharer.php?title=Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ - ç¨‹åºå‘˜æ³¥ç“¦åŒ &u=https%3A%2F%2Fbysocket.com%2Fspring-boot-configuration-properties-example%2F">
            <ion-icon name="logo-facebook"></ion-icon>
        </a>
        <!-- <a class="share-item" target="_blank"
            href="https://service.weibo.com/share/share.php?title=Spring Boot é…ç½® properties æ–‡ä»¶æ¡ˆä¾‹æ•™ç¨‹ - ç¨‹åºå‘˜æ³¥ç“¦åŒ &url=https://bysocket.com/spring-boot-configuration-properties-example/&pic=">
            <div class="n-icon n-icon-weibo"></div>
        </a> -->
    </section>

</article>
















</div>
                </section>
            </section>

            
            <aside class="sidebar ">
                


<div class="widget" id="widget">
    
      
  <div class="widget-wrap">
    <div class="widget-inner">
      <div class="toc post-toc-html"></div>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-cate">
    <div class="widget-title"><span>åˆ†ç±»</span></div>
    <div class="widget-inner">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/Elasticsearch/">Elasticsearch</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Elasticsearch/">Elasticsearch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK/">JDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JSP/">JSP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Microservice-Architecture/">Microservice Architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SEO/">SEO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot/">Spring Boot</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot/ElasticSearch/">ElasticSearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot/ElasticSearch/Elasticsearch/">Elasticsearch</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot-WebFlux/">Spring Boot WebFlux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%9D%E8%80%83/">æ€è€ƒ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/">é—®é¢˜è®°å½•</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>æ ‡ç­¾</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AdSense/" rel="tag">AdSense</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Architecture/" rel="tag">Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChatGPT/" rel="tag">ChatGPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Collections/" rel="tag">Collections</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Config/" rel="tag">Config</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Druid/" rel="tag">Druid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dubbo/" rel="tag">Dubbo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FreeMarker/" rel="tag">FreeMarker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HBase/" rel="tag">HBase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HashSet/" rel="tag">HashSet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA/" rel="tag">IDEA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-IO/" rel="tag">Java IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LinkedHashSet/" rel="tag">LinkedHashSet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/" rel="tag">Mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenAI/" rel="tag">OpenAI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Properties/" rel="tag">Properties</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST/" rel="tag">REST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Servlet/" rel="tag">Servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Data/" rel="tag">Spring Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thymeleaf/" rel="tag">Thymeleaf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TreeSet/" rel="tag">TreeSet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UUID/" rel="tag">UUID</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Validation/" rel="tag">Validation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZooKeeper/" rel="tag">ZooKeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E7%90%86/" rel="tag">åŸç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" rel="tag">é…ç½®æ–‡ä»¶</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>æœ€æ–°æ–‡ç« </span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/microservice-architecture/">å¾®æœåŠ¡æ¶æ„ä¸€ç›´ç«ï¼Œä¸ºä»€ä¹ˆæœåŠ¡åŒ–è¦ææ‡‚</a>
          </li>
        
          <li>
            <a href="/elasticsearch-7-node/">Elasticsearch 7.x ä¹‹èŠ‚ç‚¹ã€é›†ç¾¤ã€åˆ†ç‰‡åŠå‰¯æœ¬ï¼ˆå¿«é€Ÿå…¥é—¨ï¼‰</a>
          </li>
        
          <li>
            <a href="/elasticsearch-7-index-documents/">Elasticsearch 7.x ä¹‹æ–‡æ¡£ã€ç´¢å¼•å’Œ REST APIï¼ˆå¿«é€Ÿå…¥é—¨ï¼‰</a>
          </li>
        
          <li>
            <a href="/elasticsearch-7-install/">Elasticsearch 7.x å¦‚ä½•å®‰è£…åŠé…ç½®ï¼ˆæœ€è¯¦ç»†ï¼‰</a>
          </li>
        
          <li>
            <a href="/mac-create-files-from-the-root-directory/">Mac ç³»ç»Ÿå¦‚ä½•åˆ©ç”¨è½¯é“¾æ¥åœ¨æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹ï¼Ÿ</a>
          </li>
        
      </ul>
    </div>
  </div>

    
</div>

<div id="backtop"><i class="icon icon-arrow-up"></i></div>
            </aside>
            
        </div>
    </div>

    <footer class="footer">
    <div class="footer-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#3c4859" fill-opacity="1" d="M0,160L60,181.3C120,203,240,245,360,240C480,235,600,181,720,186.7C840,192,960,256,1080,261.3C1200,267,1320,213,1380,186.7L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path></svg>
    </div>

    <!-- Please do not remove this -->
    <!-- å¼€æºä¸æ˜“ï¼Œè¯·å‹¿åˆ é™¤ -->
    <div class="footer-wrap">
        <div class="footer-inner"> 
            ç¨‹åºå‘˜æ³¥ç“¦åŒ  &copy; 2023<br>
            <a href="https://beian.miit.gov.cn" rel="nofollow" target="_blank">æµ™ICPå¤‡15028451å·-7</a> | <a href="https://www.decompilertool.com/" target="_blank">Java Decompiler</a>
        </div>
    </div>

</footer>

<script type="module" src="https://unpkg.com/ionicons@6.0.2/dist/ionicons/ionicons.esm.js"></script>






<script src="/dist/build.js?1654266144177.js"></script>


<script src="/dist/custom.js?1654266144177.js"></script>



<!-- ç™¾åº¦é“¾æ¥æäº¤ -->
<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>



<!-- Google Analytics-->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RR50H8B3V1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-RR50H8B3V1');
</script>








<!-- Baidu Analytics-->
<script type="text/javascript">
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e43a8b7f6b87c80c7d5d89ee04348971";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>

</html>